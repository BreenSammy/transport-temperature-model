// -*- C++ -*-
// File generated by PyFoam - sorry for the ugliness

FoamFile
{
 version 2.0;
 format ascii;
 class dictionary;
 object snappyHexMeshDict;
}

castellatedMesh yes;
snap no;
addLayers no;
geometry
{
  container
  {
    type searchableBox;
    min (0.0405 -1.2195 -0.0005);
    max (6.0585 1.2195 2.3855);
  }
  pallet_0.stl
  {
    name pallet_0;
    type triSurfaceMesh;
  }
  pallet_1.stl
  {
    name pallet_1;
    type triSurfaceMesh;
  }
  pallet_2.stl
  {
    name pallet_2;
    type triSurfaceMesh;
  }
  pallet_3.stl
  {
    name pallet_3;
    type triSurfaceMesh;
  }
  pallet_4.stl
  {
    name pallet_4;
    type triSurfaceMesh;
  }
  pallet_5.stl
  {
    name pallet_5;
    type triSurfaceMesh;
  }
  pallet_6.stl
  {
    name pallet_6;
    type triSurfaceMesh;
  }
  pallet_7.stl
  {
    name pallet_7;
    type triSurfaceMesh;
  }
  pallet_8.stl
  {
    name pallet_8;
    type triSurfaceMesh;
  }
  pallet_9.stl
  {
    name pallet_9;
    type triSurfaceMesh;
  }
  pallet_10.stl
  {
    name pallet_10;
    type triSurfaceMesh;
  }
} 	// Settings for the castellatedMesh generation.

castellatedMeshControls
{
  maxLocalCells 100000;
  maxGlobalCells 5000000; 	// Refinement parameters// ~~~~~~~~~~~~~~~~~~~~~// If local number of cells is >= maxLocalCells on any processor// switches from from refinement followed by balancing// (current method) to (weighted) balancing before refinement.// Overall cell limit (approximately). Refinement will stop immediately// upon reaching this number so a refinement level might not complete.// Note that this is the number of cells before removing the part which// is not 'visible' from the keepPoint. The final number of cells might// actually be a lot less.// The surface refinement loop might spend lots of iterations// refining just a few cells. This setting will cause refinement// to stop if <= minimumRefine are selected for refinement. Note:// it will at least do one iteration (unless the number of cells// to refine is 0)
  minRefinementCells 10; 	// Number of buffer layers between different levels.// 1 means normal 2:1 refinement restriction, larger means slower// refinement.
  nCellsBetweenLevels 1; 	// Explicit feature edge refinement// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~// Specifies a level for any cell intersected by its edges.// This is a featureEdgeMesh, read from constant/triSurface for now.
  features
    (
    ); 	// {//     file "Container.eMesh";//     level 2;// }// Surface based refinement// ~~~~~~~~~~~~~~~~~~~~~~~~// Specifies two levels for every surface. The first is the minimum level,// every cell intersecting a surface gets refined up to the minimum level.// The second level is the maximum level. Cells that 'see' multiple// intersections where the intersections make an// angle > resolveFeatureAngle get refined up to the maximum level.
  refinementSurfaces
  {
    container
    {
      level
        (
          3
          3
        );
    }
    pallet_0
    {
      level
        (
          4
          4
        );
    }
    pallet_1
    {
      level
        (
          4
          4
        );
    }
    pallet_2
    {
      level
        (
          4
          4
        );
    }
    pallet_3
    {
      level
        (
          4
          4
        );
    }
    pallet_4
    {
      level
        (
          4
          4
        );
    }
    pallet_5
    {
      level
        (
          4
          4
        );
    }
    pallet_6
    {
      level
        (
          4
          4
        );
    }
    pallet_7
    {
      level
        (
          4
          4
        );
    }
    pallet_8
    {
      level
        (
          4
          4
        );
    }
    pallet_9
    {
      level
        (
          4
          4
        );
    }
    pallet_10
    {
      level
        (
          4
          4
        );
    }
  } 	// Surface-wise min and max refinement level// Resolve sharp angles
  resolveFeatureAngle 30; 	// Region-wise refinement// ~~~~~~~~~~~~~~~~~~~~~~// Specifies refinement level for cells in relation to a surface. One of// three modes// - distance. 'levels' specifies per distance to the surface the//   wanted refinement level. The distances need to be specified in//   descending order.// - inside. 'levels' is only one entry and only the level is used. All//   cells inside the surface get refined up to the level. The surface//   needs to be closed for this to be possible.// - outside. Same but cells outside.
  refinementRegions
  {
    container
    {
      mode inside;
      levels
        (

          (
            1000000000000000.0
            2
          )
        );
    }
  } 	// Mesh selection// ~~~~~~~~~~~~~~// After refinement patches get added for all refinementSurfaces and// all cells intersecting the surfaces get put into these patches. The// section reachable from the locationInMesh is kept.// NOTE: This point should never be on a face, always inside a cell, even// after refinement.
  locationsInMesh
    105
    (

      (
        (0.205 0.205 2.205)
        airInside
      )

      (
        (0.7409 -0.339 0.44305)
        battery0_0
      )

      (
        (0.7409 -0.741 0.44305)
        battery0_1
      )

      (
        (0.3389 -0.741 0.44305)
        battery0_2
      )

      (
        (0.3389 -0.339 0.44305)
        battery0_3
      )

      (
        (1.5611 -0.339 0.44305)
        battery1_0
      )

      (
        (1.5611 -0.741 0.44305)
        battery1_1
      )

      (
        (1.1591 -0.741 0.44305)
        battery1_2
      )

      (
        (1.1591 -0.339 0.44305)
        battery1_3
      )

      (
        (1.5611 -0.339 0.84305)
        battery1_4
      )

      (
        (1.5611 -0.741 0.84305)
        battery1_5
      )

      (
        (1.1591 -0.741 0.84305)
        battery1_6
      )

      (
        (1.1591 -0.339 0.84305)
        battery1_7
      )

      (
        (2.4011 -0.339 0.44305)
        battery2_0
      )

      (
        (2.4011 -0.741 0.44305)
        battery2_1
      )

      (
        (1.9991 -0.741 0.44305)
        battery2_2
      )

      (
        (1.9991 -0.339 0.44305)
        battery2_3
      )

      (
        (2.4011 -0.339 0.84305)
        battery2_4
      )

      (
        (2.4011 -0.741 0.84305)
        battery2_5
      )

      (
        (1.9991 -0.741 0.84305)
        battery2_6
      )

      (
        (1.9991 -0.339 0.84305)
        battery2_7
      )

      (
        (3.2411 -0.339 0.44305)
        battery3_0
      )

      (
        (3.2411 -0.741 0.44305)
        battery3_1
      )

      (
        (2.8391 -0.741 0.44305)
        battery3_2
      )

      (
        (2.8391 -0.339 0.44305)
        battery3_3
      )

      (
        (3.2411 -0.339 0.84305)
        battery3_4
      )

      (
        (3.2411 -0.741 0.84305)
        battery3_5
      )

      (
        (2.8391 -0.741 0.84305)
        battery3_6
      )

      (
        (2.8391 -0.339 0.84305)
        battery3_7
      )

      (
        (4.0811 -0.339 0.44305)
        battery4_0
      )

      (
        (4.0811 -0.741 0.44305)
        battery4_1
      )

      (
        (3.6791 -0.741 0.44305)
        battery4_2
      )

      (
        (3.6791 -0.339 0.44305)
        battery4_3
      )

      (
        (4.0811 -0.339 0.84305)
        battery4_4
      )

      (
        (4.0811 -0.741 0.84305)
        battery4_5
      )

      (
        (3.6791 -0.741 0.84305)
        battery4_6
      )

      (
        (3.6791 -0.339 0.84305)
        battery4_7
      )

      (
        (4.0811 -0.339 1.24305)
        battery4_8
      )

      (
        (4.0811 -0.741 1.24305)
        battery4_9
      )

      (
        (3.6791 -0.741 1.24305)
        battery4_10
      )

      (
        (3.6791 -0.339 1.24305)
        battery4_11
      )

      (
        (4.9211 -0.339 0.44305)
        battery5_0
      )

      (
        (4.9211 -0.741 0.44305)
        battery5_1
      )

      (
        (4.5191 -0.741 0.44305)
        battery5_2
      )

      (
        (4.5191 -0.339 0.44305)
        battery5_3
      )

      (
        (4.9211 -0.339 0.84305)
        battery5_4
      )

      (
        (4.9211 -0.741 0.84305)
        battery5_5
      )

      (
        (4.5191 -0.741 0.84305)
        battery5_6
      )

      (
        (4.5191 -0.339 0.84305)
        battery5_7
      )

      (
        (5.7611 -0.339 0.44305)
        battery6_0
      )

      (
        (5.7611 -0.741 0.44305)
        battery6_1
      )

      (
        (5.3591 -0.741 0.44305)
        battery6_2
      )

      (
        (5.3591 -0.339 0.44305)
        battery6_3
      )

      (
        (5.7611 -0.339 0.84305)
        battery6_4
      )

      (
        (5.7611 -0.741 0.84305)
        battery6_5
      )

      (
        (5.3591 -0.741 0.84305)
        battery6_6
      )

      (
        (5.3591 -0.339 0.84305)
        battery6_7
      )

      (
        (1.0811 0.7311 0.44305)
        battery7_0
      )

      (
        (1.0811 0.3291 0.44305)
        battery7_1
      )

      (
        (0.6791 0.3291 0.44305)
        battery7_2
      )

      (
        (0.6791 0.7311 0.44305)
        battery7_3
      )

      (
        (1.0811 0.7311 0.84305)
        battery7_4
      )

      (
        (1.0811 0.3291 0.84305)
        battery7_5
      )

      (
        (0.6791 0.3291 0.84305)
        battery7_6
      )

      (
        (0.6791 0.7311 0.84305)
        battery7_7
      )

      (
        (1.0811 0.7311 1.24305)
        battery7_8
      )

      (
        (1.0811 0.3291 1.24305)
        battery7_9
      )

      (
        (0.6791 0.3291 1.24305)
        battery7_10
      )

      (
        (0.6791 0.7311 1.24305)
        battery7_11
      )

      (
        (2.5211 0.7311 0.44305)
        battery8_0
      )

      (
        (2.5211 0.3291 0.44305)
        battery8_1
      )

      (
        (2.1191 0.3291 0.44305)
        battery8_2
      )

      (
        (2.1191 0.7311 0.44305)
        battery8_3
      )

      (
        (2.5211 0.7311 0.84305)
        battery8_4
      )

      (
        (2.5211 0.3291 0.84305)
        battery8_5
      )

      (
        (2.1191 0.3291 0.84305)
        battery8_6
      )

      (
        (2.1191 0.7311 0.84305)
        battery8_7
      )

      (
        (2.5211 0.7311 1.24305)
        battery8_8
      )

      (
        (2.5211 0.3291 1.24305)
        battery8_9
      )

      (
        (2.1191 0.3291 1.24305)
        battery8_10
      )

      (
        (2.1191 0.7311 1.24305)
        battery8_11
      )

      (
        (3.9611 0.7311 0.44305)
        battery9_0
      )

      (
        (3.9611 0.3291 0.44305)
        battery9_1
      )

      (
        (3.5591 0.3291 0.44305)
        battery9_2
      )

      (
        (3.5591 0.7311 0.44305)
        battery9_3
      )

      (
        (3.9611 0.7311 0.84305)
        battery9_4
      )

      (
        (3.9611 0.3291 0.84305)
        battery9_5
      )

      (
        (3.5591 0.3291 0.84305)
        battery9_6
      )

      (
        (3.5591 0.7311 0.84305)
        battery9_7
      )

      (
        (3.9611 0.7311 1.24305)
        battery9_8
      )

      (
        (3.9611 0.3291 1.24305)
        battery9_9
      )

      (
        (3.5591 0.3291 1.24305)
        battery9_10
      )

      (
        (3.5591 0.7311 1.24305)
        battery9_11
      )

      (
        (5.4011 0.7311 0.44305)
        battery10_0
      )

      (
        (5.4011 0.3291 0.44305)
        battery10_1
      )

      (
        (4.9991 0.3291 0.44305)
        battery10_2
      )

      (
        (4.9991 0.7311 0.44305)
        battery10_3
      )

      (
        (5.4011 0.7311 0.84305)
        battery10_4
      )

      (
        (5.4011 0.3291 0.84305)
        battery10_5
      )

      (
        (4.9991 0.3291 0.84305)
        battery10_6
      )

      (
        (4.9991 0.7311 0.84305)
        battery10_7
      )

      (
        (5.4011 0.7311 1.24305)
        battery10_8
      )

      (
        (5.4011 0.3291 1.24305)
        battery10_9
      )

      (
        (4.9991 0.3291 1.24305)
        battery10_10
      )

      (
        (4.9991 0.7311 1.24305)
        battery10_11
      )
    ); 	// Whether any faceZones (as specified in the refinementSurfaces)// are only on the boundary of corresponding cellZones or also allow// free-standing zone faces. Not used if there are no faceZones.
  allowFreeStandingZoneFaces no;
} 	// Settings for the snapping.

snapControls
{
  nSmoothPatch 3;
  tolerance 1.0; 	//- Number of patch smoothing iterations before finding correspondence//  to surface//- Relative distance for points to be attracted by surface feature point//  or edge. True distance is this factor times local//  maximum edge length.//- Number of mesh displacement relaxation iterations.
  nSolveIter 30; 	//- Maximum number of snapping relaxation iterations. Should stop//  before upon reaching a correct mesh.
  nRelaxIter 5; 	//- Highly experimental and wip: number of feature edge snapping//  iterations. Leave out altogether to disable.//  Of limited use in this case since faceZone faces not handled.
  nFeatureSnapIter 10;
} 	// Settings for the layer addition.

addLayersControls
{
  relativeSizes yes;
  layers
  {
    airInside_to_boxes01
    {
      nSurfaceLayers 3;
      finalLayerThickness 1.1; 	// Per final patch (so not geometry!) the layer information
    }
    boxes_to_batterie0
    {
      nSurfaceLayers 3;
      expansionRatio 1;
      finalLayerThickness 0.7;
    }
    batterie0_to_boxes
    {
      nSurfaceLayers 2;
      expansionRatio 1;
      finalLayerThickness 0.5;
      featureAngle 300;
      maxThicknessToMedialRatio 1;
    }
    pallet1x4.stl
    {
      name pallet_0;
      type triSurfaceMesh;
    }
  } 	// Expansion factor for layer mesh
  expansionRatio 1.4; 	// Wanted thickness of final added cell layer. If multiple layers// is the thickness of the layer furthest away from the wall.// Relative to undistorted size of cell outside layer.// See relativeSizes parameter.
  finalLayerThickness 1.1; 	// Minimum thickness of cell layer. If for any reason layer// cannot be above minThickness do not add layer.// Relative to undistorted size of cell outside layer.
  minThickness 0.1; 	// If points get not extruded do nGrow layers of connected faces that are// also not grown. This helps convergence of the layer addition process// close to features.// Note: changed(corrected) w.r.t 1.7.x! (didn't do anything in 1.7.x)
  nGrow 0; 	// Advanced settings// When not to extrude surface. 0 is flat surface, 90 is when two faces// are perpendicular
  featureAngle 130; 	// Maximum number of snapping relaxation iterations. Should stop// before upon reaching a correct mesh.
  nRelaxIter 3; 	// Number of smoothing iterations of surface normals
  nSmoothSurfaceNormals 1; 	// Number of smoothing iterations of interior mesh movement direction
  nSmoothNormals 3; 	// Smooth layer thickness over surface patches
  nSmoothThickness 2; 	// Stop layer growth on highly warped cells
  maxFaceThicknessRatio 0.5; 	// Reduce layer growth where ratio thickness to medial// distance is large
  maxThicknessToMedialRatio 1; 	// Angle used to pick up medial axis points// Note: changed(corrected) w.r.t 1.7.x! 90 degrees corresponds to 130// in 1.7.x.
  minMedialAxisAngle 90; 	// Create buffer region for new layer terminations
  nBufferCellsNoExtrude 0; 	// Overall max number of layer addition iterations. The mesher will exit// if it reaches this number of iterations; possibly with an illegal// mesh.
  nLayerIter 50;
} 	// Generic mesh quality settings. At any undoable phase these determine// where to undo.

meshQualityControls
{
#include "meshQualityDict"
  nSmoothScale 4; 	// Advanced//- Number of error distribution iterations//- Amount to scale back displacement at error points
  errorReduction 0.75;
} 	// Advanced// Merge tolerance. Is fraction of overall bounding box of initial mesh.// Note: the write tolerance needs to be higher than this.

mergeTolerance 1e-06; 	// ************************************************************************* //

